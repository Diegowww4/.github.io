<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‰ æ­å–œæ‚¨è¢«é¸ä¸­ï¼ - ç¶²è·¯å®‰å…¨æ•™è‚²æ¼”ç·´</title>
    <!-- æ¨£å¼ç•¥ï¼Œä¿æŒåŸæ¨£ -->
    <style>
      /* ...åŸæœ‰ CSS ç¨‹å¼ç¢¼ä¸è®Š... */
    </style>
</head>
<body>
    <div class="education-banner">
        âš ï¸ é€™æ˜¯ç¶²è·¯å®‰å…¨æ•™è‚²æ¨¡æ“¬æ¼”ç·´ç¶²ç«™ - è«‹å‹¿è¼¸å…¥çœŸå¯¦å€‹äººè³‡æ–™ âš ï¸
    </div>

    <div class="container">
        <!-- é¦–é èˆ‡è·‘é¦¬ç‡ˆéƒ¨åˆ†ä¿ç•™åŸæ¨£ -->

        <!-- è¡¨å–®é é¢ -->
        <div id="formPage" class="form-container">
            <h2 style="text-align: center; color: #ff6b35; margin-bottom: 30px;">å¡«å¯«è³‡æ–™å®ŒæˆæŠ½ç</h2>
            <form onsubmit="submitForm(event)">
                <div class="form-group">
                    <label for="name">å§“åï¼š</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="phone">æ‰‹æ©Ÿè™Ÿç¢¼ï¼š</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="email">é›»å­éƒµä»¶ï¼š</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="idcard">èº«åˆ†è­‰å­—è™Ÿï¼š</label>
                    <input type="text" id="idcard" name="idcard" required>
                </div>
                <button type="submit" class="submit-btn">ç¢ºèªé€å‡º</button>
            </form>
        </div>

        <!-- è­¦å‘Šé é¢ -->
        <div id="warningPage" class="warning-page">
            <div class="warning-icon">âš ï¸</div>
            <h2 class="warning-title">åœï¼é€™æ˜¯è©é¨™é™·é˜±ï¼</h2>
            <div class="warning-text">
                <p><strong>æ‚¨å‰›æ‰å·®é»æˆç‚ºç¶²è·¯è©é¨™çš„å—å®³è€…ï¼</strong></p>
                <p><strong>å¸¸è¦‹è©é¨™æ‰‹æ³•ç‰¹å¾µï¼š</strong></p>
                <p>â€¢ è²ç¨±æ‚¨ã€Œè¢«é¸ä¸­ã€æˆ–ã€Œä¸­çã€</p>
                <p>â€¢ è¦æ±‚å¡«å¯«å€‹äººæ•æ„Ÿè³‡æ–™</p>
                <p>â€¢ è£½é€ ç·Šè¿«æ„Ÿï¼ˆé™æ™‚å„ªæƒ ï¼‰</p>
                <p>â€¢ æ‰¿è«¾ä¸åˆ‡å¯¦éš›çš„çå“</p>
                <p><strong>è¨˜ä½ï¼š</strong>åˆæ³•çš„æŠ½çæ´»å‹•ä¸æœƒè¦æ±‚æ‚¨æä¾›èº«åˆ†è­‰å­—è™Ÿæˆ–éŠ€è¡Œå¸³æˆ¶è³‡è¨Šï¼</p>
            </div>
            <button class="back-button" onclick="goHome()">è¿”å›é¦–é </button>
        </div>
    </div>

    <script>
        const scriptUrl = 'https://script.google.com/macros/s/AKfycbyzQvZYUjfXpIOunFdlR4YZoo5eMWG0iV7mZKb00Eg_OxqTGeTdIssJpHx-GuKxcEE0vw/exec';

        let clickCount = 0;
        let participants = [];

        function startTimer() {
            let timeLeft = 300;
            const timer = setInterval(() => {
                const m = Math.floor(timeLeft / 60);
                const s = (timeLeft % 60).toString().padStart(2, '0');
                document.getElementById('timer').textContent = `${m}:${s}`;
                if (--timeLeft < 0) clearInterval(timer);
            }, 1000);
        }

        function clickLucky() {
            clickCount++;
            document.getElementById('clickCount').textContent = clickCount;
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('formPage').style.display = 'block';
        }

        async function submitForm(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const idcard = document.getElementById('idcard').value;
            participants.push({ name, phone, email, idcard });

            const submitBtn = document.querySelector('.submit-btn');
            submitBtn.textContent = 'è³‡æ–™æäº¤ä¸­...';
            submitBtn.disabled = true;

            try {
                const params = new URLSearchParams({ name, phone, email, idcard });
                const response = await fetch(`${scriptUrl}?${params}`, { method: 'GET', mode: 'cors' });
                const result = await response.text();
                console.log('âœ… Google Apps Script å›æ‡‰:', result);
                alert("âœ… å·²æˆåŠŸå„²å­˜ï¼é€™æ˜¯æ¨¡æ“¬æ¼”ç·´ï¼Œè«‹å‹¿è¼¸å…¥çœŸå¯¦è³‡æ–™ï¼");
            } catch (err) {
                console.error('âŒ è³‡æ–™é€å‡ºå¤±æ•—:', err);
                alert("âŒ æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼");
            }

            submitBtn.textContent = 'ç¢ºèªé€å‡º';
            submitBtn.disabled = false;
            updateMarquee();
            document.getElementById('formPage').style.display = 'none';
            document.getElementById('warningPage').style.display = 'block';
        }

        function updateMarquee() {
            const marquee = document.getElementById('marqueeText');
            if (participants.length > 0) {
                const names = participants.map(p => p.name).join('ã€');
                marquee.textContent = `ğŸ‰ ${names} ç­‰ ${participants.length} ä½æœ‹å‹åƒèˆ‡äº†æ¼”ç·´ï¼æé†’ï¼šçœŸæ­£çš„æŠ½çä¸æœƒç´¢å–å€‹äººæ•æ„Ÿè³‡æ–™ï¼`;
            }
        }

        function goHome() {
            document.getElementById('warningPage').style.display = 'none';
            document.getElementById('homepage').style.display = 'block';
            document.getElementById('name').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('email').value = '';
            document.getElementById('idcard').value = '';
        }

        window.onload = function () {
            startTimer();
        }
    </script>
</body>
</html>
